"use strict";(globalThis.webpackChunkgoose=globalThis.webpackChunkgoose||[]).push([[6706],{28453:(e,n,s)=>{s.d(n,{R:()=>i,x:()=>a});var o=s(96540);const r={},t=o.createContext(r);function i(e){const n=o.useContext(t);return o.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function a(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(r):e.components||r:i(e.components),o.createElement(t.Provider,{value:n},e.children)}},94953:(e,n,s)=>{s.r(n),s.d(n,{assets:()=>l,contentTitle:()=>a,default:()=>h,frontMatter:()=>i,metadata:()=>o,toc:()=>d});const o=JSON.parse('{"id":"guides/terminal-integration","title":"Terminal Integration","description":"The goose term commands let you talk to goose directly from your shell prompt. Instead of switching to a separate REPL session, you stay in your terminal and call goose when you need it.","source":"@site/docs/guides/terminal-integration.md","sourceDirName":"guides","slug":"/guides/terminal-integration","permalink":"/goose/pr-preview/pr-5852/docs/guides/terminal-integration","draft":false,"unlisted":true,"tags":[],"version":"current","frontMatter":{"unlisted":true},"sidebar":"tutorialSidebar"}');var r=s(74848),t=s(28453);const i={unlisted:!0},a="Terminal Integration",l={},d=[{value:"Command History Awareness",id:"command-history-awareness",level:2},{value:"Setup",id:"setup",level:2},{value:"Advanced: Command Not Found Handler",id:"advanced-command-not-found-handler",level:3},{value:"Usage",id:"usage",level:2},{value:"What Gets Logged",id:"what-gets-logged",level:2},{value:"Performance",id:"performance",level:2},{value:"How It Works",id:"how-it-works",level:2},{value:"Session Management",id:"session-management",level:2}];function c(e){const n={code:"code",h1:"h1",h2:"h2",h3:"h3",header:"header",li:"li",ol:"ol",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,t.R)(),...e.components};return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(n.header,{children:(0,r.jsx)(n.h1,{id:"terminal-integration",children:"Terminal Integration"})}),"\n",(0,r.jsxs)(n.p,{children:["The ",(0,r.jsx)(n.code,{children:"goose term"})," commands let you talk to goose directly from your shell prompt. Instead of switching to a separate REPL session, you stay in your terminal and call goose when you need it."]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-bash",children:'gt "what does this error mean?"\n'})}),"\n",(0,r.jsx)(n.p,{children:"Goose responds, you read the answer, and you're back at your prompt. The conversation lives alongside your work, not in a separate window you have to manage."}),"\n",(0,r.jsx)(n.h2,{id:"command-history-awareness",children:"Command History Awareness"}),"\n",(0,r.jsx)(n.p,{children:"The real power comes from shell integration. Once set up, goose tracks the commands you run, so when you ask a question, it already knows what you've been doing."}),"\n",(0,r.jsx)(n.p,{children:'No more copy-pasting error messages or explaining "I ran these commands...". Just work normally, then ask goose for help.'}),"\n",(0,r.jsx)(n.h2,{id:"setup",children:"Setup"}),"\n",(0,r.jsx)(n.p,{children:"Add one line to your shell config:"}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"zsh"})," (",(0,r.jsx)(n.code,{children:"~/.zshrc"}),")"]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-bash",children:'eval "$(goose term init zsh)"\n'})}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"bash"})," (",(0,r.jsx)(n.code,{children:"~/.bashrc"}),")"]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-bash",children:'eval "$(goose term init bash)"\n'})}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"fish"})," (",(0,r.jsx)(n.code,{children:"~/.config/fish/config.fish"}),")"]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-fish",children:"goose term init fish | source\n"})}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"PowerShell"})," (",(0,r.jsx)(n.code,{children:"$PROFILE"}),")"]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-powershell",children:"Invoke-Expression (goose term init powershell)\n"})}),"\n",(0,r.jsx)(n.p,{children:"Then restart your terminal or source the config."}),"\n",(0,r.jsx)(n.h3,{id:"advanced-command-not-found-handler",children:"Advanced: Command Not Found Handler"}),"\n",(0,r.jsxs)(n.p,{children:["For ",(0,r.jsx)(n.strong,{children:"bash"})," and ",(0,r.jsx)(n.strong,{children:"zsh"}),", you can enable automatic goose invocation for unknown commands:"]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-bash",children:'# zsh\neval "$(goose term init zsh --with-command-not-found)"\n\n# bash\neval "$(goose term init bash --with-command-not-found)"\n'})}),"\n",(0,r.jsx)(n.p,{children:"With this enabled, any command that doesn't exist will automatically be sent to goose:"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-bash",children:"$ analyze_logs\n\ud83e\udebf Command 'analyze_logs' not found. Asking goose...\n"})}),"\n",(0,r.jsx)(n.p,{children:"Goose will interpret what you meant and either suggest the correct command or help you accomplish the task."}),"\n",(0,r.jsx)(n.h2,{id:"usage",children:"Usage"}),"\n",(0,r.jsx)(n.p,{children:"Once set up, your terminal session is linked to a goose session. All commands you run are logged to that session."}),"\n",(0,r.jsx)(n.p,{children:"To talk to goose about what you've been doing:"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-bash",children:'gt "why did that fail?"\n'})}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.code,{children:"gt"})," is just an alias for ",(0,r.jsx)(n.code,{children:"goose term run"}),". It opens goose with your command history already loaded."]}),"\n",(0,r.jsx)(n.h2,{id:"what-gets-logged",children:"What Gets Logged"}),"\n",(0,r.jsx)(n.p,{children:"Every command you type gets stored with its timestamp. Goose sees commands you ran since your last message to it."}),"\n",(0,r.jsxs)(n.p,{children:["Commands starting with ",(0,r.jsx)(n.code,{children:"goose term"})," or ",(0,r.jsx)(n.code,{children:"gt"})," are not logged (to avoid noise)."]}),"\n",(0,r.jsx)(n.h2,{id:"performance",children:"Performance"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Shell startup"}),": adds ~10ms"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Per command"}),": ~10ms, runs in background (non-blocking)"]}),"\n"]}),"\n",(0,r.jsx)(n.p,{children:"You won't notice any delay. The logging happens asynchronously after your command starts executing."}),"\n",(0,r.jsx)(n.h2,{id:"how-it-works",children:"How It Works"}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.code,{children:"goose term init"})," outputs shell code that:"]}),"\n",(0,r.jsxs)(n.ol,{children:["\n",(0,r.jsxs)(n.li,{children:["Sets a ",(0,r.jsx)(n.code,{children:"GOOSE_SESSION_ID"})," environment variable linking your terminal to a goose session"]}),"\n",(0,r.jsxs)(n.li,{children:["Creates the ",(0,r.jsx)(n.code,{children:"gt"})," alias for quick access"]}),"\n",(0,r.jsxs)(n.li,{children:["Installs a preexec hook that calls ",(0,r.jsx)(n.code,{children:"goose term log"})," for each command"]}),"\n",(0,r.jsxs)(n.li,{children:["Optionally installs a command-not-found handler (with ",(0,r.jsx)(n.code,{children:"--with-command-not-found"}),")"]}),"\n"]}),"\n",(0,r.jsxs)(n.p,{children:["The hook runs ",(0,r.jsx)(n.code,{children:"goose term log <command> &"})," in the background, which appends to a local history file in ",(0,r.jsx)(n.code,{children:"~/.config/goose/shell-history/"}),". When you run ",(0,r.jsx)(n.code,{children:"gt"}),", goose reads commands from this file that were logged since your last message."]}),"\n",(0,r.jsx)(n.h2,{id:"session-management",children:"Session Management"}),"\n",(0,r.jsxs)(n.p,{children:["Terminal sessions are tied to your working directory. If you ",(0,r.jsx)(n.code,{children:"cd"})," to a different project, goose automatically creates or switches to a session for that directory. This keeps conversations organized by project."]}),"\n",(0,r.jsxs)(n.p,{children:["Sessions created by ",(0,r.jsx)(n.code,{children:"goose term"})," don't appear in ",(0,r.jsx)(n.code,{children:"goose session list"})," - they're hidden to avoid cluttering your session history. But they're real sessions with full conversation history that you can access by ID if needed."]})]})}function h(e={}){const{wrapper:n}={...(0,t.R)(),...e.components};return n?(0,r.jsx)(n,{...e,children:(0,r.jsx)(c,{...e})}):c(e)}}}]);